(function(n){function t(t){for(var e,r,c=t[0],a=t[1],i=t[2],l=0,p=[];l<c.length;l++)r=c[l],Object.prototype.hasOwnProperty.call(u,r)&&u[r]&&p.push(u[r][0]),u[r]=0;for(e in a)Object.prototype.hasOwnProperty.call(a,e)&&(n[e]=a[e]);m&&m(t);while(p.length)p.shift()();return o.push.apply(o,i||[]),s()}function s(){for(var n,t=0;t<o.length;t++){for(var s=o[t],e=!0,c=1;c<s.length;c++){var a=s[c];0!==u[a]&&(e=!1)}e&&(o.splice(t--,1),n=r(r.s=s[0]))}return n}var e={},u={app:0},o=[];function r(t){if(e[t])return e[t].exports;var s=e[t]={i:t,l:!1,exports:{}};return n[t].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=n,r.c=e,r.d=function(n,t,s){r.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:s})},r.r=function(n){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,t){if(1&t&&(n=r(n)),8&t)return n;if(4&t&&"object"===typeof n&&n&&n.__esModule)return n;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var e in n)r.d(s,e,function(t){return n[t]}.bind(null,e));return s},r.n=function(n){var t=n&&n.__esModule?function(){return n["default"]}:function(){return n};return r.d(t,"a",t),t},r.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},r.p="/simple-video-chat/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],a=c.push.bind(c);c.push=t,c=c.slice();for(var i=0;i<c.length;i++)t(c[i]);var m=a;o.push([0,"chunk-vendors"]),s()})({0:function(n,t,s){n.exports=s("56d7")},1:function(n,t){},"56d7":function(n,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var e=s("2b0e"),u=function(){var n=this,t=n.$createElement,s=n._self._c||t;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},o=[],r=(s("5c0b"),s("2877")),c={},a=Object(r["a"])(c,u,o,!1,null,null,null),i=a.exports,m=s("8c4f"),l=function(){var n=this,t=n.$createElement,s=n._self._c||t;return s("div",{staticClass:"home"},[s("VideoChat")],1)},p=[],d=function(){var n=this,t=n.$createElement,s=n._self._c||t;return s("div",{staticClass:"video-chat"},[s("nav",{staticClass:"video-chat-toolbar"},[s("input",{directives:[{name:"model",rawName:"v-model",value:n.username,expression:"username"}],attrs:{type:"text",placeholder:"Choose a name"},domProps:{value:n.username},on:{input:function(t){t.target.composing||(n.username=t.target.value)}}}),s("button",{staticClass:"btn",on:{click:n.connect}},[n._v("Connect")]),n.connected?s("p",[n._v("Connected")]):s("p",[n._v("Not Connected")]),s("input",{directives:[{name:"model",rawName:"v-model",value:n.friendname,expression:"friendname"}],attrs:{type:"text",placeholder:"Who you want to call"},domProps:{value:n.friendname},on:{input:function(t){t.target.composing||(n.friendname=t.target.value)}}}),s("button",{staticClass:"btn",on:{click:n.call}},[n._v("Call")])]),n._m(0)])},f=[function(){var n=this,t=n.$createElement,s=n._self._c||t;return s("div",{staticClass:"video-chat-body"},[s("video",{attrs:{id:"userVideo",autoplay:""}}),s("video",{attrs:{id:"friendVideo",autoplay:""}})])}],v=s("b85c"),g=(s("96cf"),s("1da1")),h=s("8055"),b=s.n(h),y={name:"videoChat",data:function(){return{username:"",connected:!1,friendname:"",peerConnection:null,socket:null}},methods:{send:function(n){this.socket.emit("peerData",n)},connect:function(){var n=this;this.socket=b.a.connect("worldofcalculators.com/",{path:"/my-servers/video-chat/"}),this.socket.on("connect",(function(){n.socket.emit("user-connect",{username:n.username}),n.connected=!0})),this.socket.on("handshake",function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(s){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(s.offer&&n.applyHandshake(null,JSON.parse(s.offer)),s.candidate&&n.applyHandshake(JSON.parse(s.candidate),null),!s.forAnswer){t.next=9;break}return t.next=5,n.peerConnection.createAnswer();case 5:return e=t.sent,t.next=8,n.peerConnection.setLocalDescription(e);case 8:n.send({sender:n.username,receiver:n.friendname,offer:JSON.stringify(e)});case 9:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()),this.socket.on("incoming",(function(t){n.friendname=t.sender,n.answer()}))},applyHandshake:function(n,t){t&&this.peerConnection.setRemoteDescription(t),n&&this.peerConnection.addIceCandidate(n)},call:function(){var n=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var s,e,u,o,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n.socket.emit("make-call",{sender:n.username,receiver:n.friendname}),t.next=3,navigator.mediaDevices.getUserMedia({video:{width:{min:640,max:1920},height:{min:400,max:1080},aspectRatio:1.777777778,frameRate:{max:30}},audio:{sampleSize:16,channelCount:2}});case 3:s=t.sent,document.getElementById("userVideo").srcObject=s,n.peerConnection=new RTCPeerConnection({iceServers:[{urls:["stun:stun.l.google.com:19302","stun:stun1.l.google.com:19302","stun:stun2.l.google.com:19302","stun:stun3.l.google.com:19302","stun:stun4.l.google.com:19302","stun:stun.ekiga.net","stun:stun.ideasip.com","stun:stun.rixtelecom.se","stun:stun.schlund.de","stun:stun.stunprotocol.org:3478","stun:stun.voiparound.com","stun:stun.voipbuster.com","stun:stun.voipstunt.com","stun:stun.voxgratia.org","stun:23.21.150.121:3478","stun:iphone-stun.strato-iphone.de:3478","stun:numb.viagenie.ca:3478","stun:s1.taraba.net:3478","stun:s2.taraba.net:3478","stun:stun.12connect.com:3478","stun:stun.12voip.com:3478","stun:stun.1und1.de:3478","stun:stun.2talk.co.nz:3478","stun:stun.2talk.com:3478","stun:stun.3clogic.com:3478","stun:stun.3cx.com:3478","stun:stun.a-mm.tv:3478","stun:stun.aa.net.uk:3478","stun:stun.acrobits.cz:3478","stun:stun.actionvoip.com:3478","stun:stun.advfn.com:3478","stun:stun.aeta-audio.com:3478","stun:stun.aeta.com:3478","stun:stun.alltel.com.au:3478","stun:stun.altar.com.pl:3478","stun:stun.annatel.net:3478","stun:stun.antisip.com:3478","stun:stun.arbuz.ru:3478","stun:stun.avigora.com:3478","stun:stun.avigora.fr:3478","stun:stun.awa-shima.com:3478","stun:stun.awt.be:3478","stun:stun.b2b2c.ca:3478","stun:stun.bahnhof.net:3478","stun:stun.barracuda.com:3478","stun:stun.bluesip.net:3478","stun:stun.bmwgs.cz:3478","stun:stun.botonakis.com:3478","stun:stun.budgetphone.nl:3478","stun:stun.budgetsip.com:3478","stun:stun.cablenet-as.net:3478","stun:stun.callromania.ro:3478","stun:stun.callwithus.com:3478","stun:stun.cbsys.net:3478","stun:stun.chathelp.ru:3478","stun:stun.cheapvoip.com:3478","stun:stun.ciktel.com:3478","stun:stun.cloopen.com:3478","stun:stun.colouredlines.com.au:3478","stun:stun.comfi.com:3478","stun:stun.commpeak.com:3478","stun:stun.comtube.com:3478","stun:stun.comtube.ru:3478","stun:stun.cope.es:3478","stun:stun.counterpath.com:3478","stun:stun.counterpath.net:3478","stun:stun.cryptonit.net:3478","stun:stun.darioflaccovio.it:3478","stun:stun.datamanagement.it:3478","stun:stun.dcalling.de:3478","stun:stun.decanet.fr:3478","stun:stun.demos.ru:3478","stun:stun.develz.org:3478","stun:stun.dingaling.ca:3478","stun:stun.doublerobotics.com:3478","stun:stun.drogon.net:3478","stun:stun.duocom.es:3478","stun:stun.dus.net:3478","stun:stun.e-fon.ch:3478","stun:stun.easybell.de:3478","stun:stun.easycall.pl:3478","stun:stun.easyvoip.com:3478","stun:stun.efficace-factory.com:3478","stun:stun.einsundeins.com:3478","stun:stun.einsundeins.de:3478","stun:stun.ekiga.net:3478","stun:stun.epygi.com:3478","stun:stun.etoilediese.fr:3478","stun:stun.eyeball.com:3478","stun:stun.faktortel.com.au:3478","stun:stun.freecall.com:3478","stun:stun.freeswitch.org:3478","stun:stun.freevoipdeal.com:3478","stun:stun.fuzemeeting.com:3478","stun:stun.gmx.de:3478","stun:stun.gmx.net:3478","stun:stun.gradwell.com:3478","stun:stun.halonet.pl:3478","stun:stun.hellonanu.com:3478","stun:stun.hoiio.com:3478","stun:stun.hosteurope.de:3478","stun:stun.ideasip.com:3478","stun:stun.imesh.com:3478","stun:stun.infra.net:3478","stun:stun.internetcalls.com:3478","stun:stun.intervoip.com:3478","stun:stun.ipcomms.net:3478","stun:stun.ipfire.org:3478","stun:stun.ippi.fr:3478","stun:stun.ipshka.com:3478","stun:stun.iptel.org:3478","stun:stun.irian.at:3478","stun:stun.it1.hr:3478","stun:stun.ivao.aero:3478","stun:stun.jappix.com:3478","stun:stun.jumblo.com:3478","stun:stun.justvoip.com:3478","stun:stun.kanet.ru:3478","stun:stun.kiwilink.co.nz:3478","stun:stun.kundenserver.de:3478","stun:stun.l.google.com:19302","stun:stun.linea7.net:3478","stun:stun.linphone.org:3478","stun:stun.liveo.fr:3478","stun:stun.lowratevoip.com:3478","stun:stun.lugosoft.com:3478","stun:stun.lundimatin.fr:3478","stun:stun.magnet.ie:3478","stun:stun.manle.com:3478","stun:stun.mgn.ru:3478","stun:stun.mit.de:3478","stun:stun.mitake.com.tw:3478","stun:stun.miwifi.com:3478","stun:stun.modulus.gr:3478","stun:stun.mozcom.com:3478","stun:stun.myvoiptraffic.com:3478","stun:stun.mywatson.it:3478","stun:stun.nas.net:3478","stun:stun.neotel.co.za:3478","stun:stun.netappel.com:3478","stun:stun.netappel.fr:3478","stun:stun.netgsm.com.tr:3478","stun:stun.nfon.net:3478","stun:stun.noblogs.org:3478","stun:stun.noc.ams-ix.net:3478","stun:stun.node4.co.uk:3478","stun:stun.nonoh.net:3478","stun:stun.nottingham.ac.uk:3478","stun:stun.nova.is:3478","stun:stun.nventure.com:3478","stun:stun.on.net.mk:3478","stun:stun.ooma.com:3478","stun:stun.ooonet.ru:3478","stun:stun.oriontelekom.rs:3478","stun:stun.outland-net.de:3478","stun:stun.ozekiphone.com:3478","stun:stun.patlive.com:3478","stun:stun.personal-voip.de:3478","stun:stun.petcube.com:3478","stun:stun.phone.com:3478","stun:stun.phoneserve.com:3478","stun:stun.pjsip.org:3478","stun:stun.poivy.com:3478","stun:stun.powerpbx.org:3478","stun:stun.powervoip.com:3478","stun:stun.ppdi.com:3478","stun:stun.prizee.com:3478","stun:stun.qq.com:3478","stun:stun.qvod.com:3478","stun:stun.rackco.com:3478","stun:stun.rapidnet.de:3478","stun:stun.rb-net.com:3478","stun:stun.refint.net:3478","stun:stun.remote-learner.net:3478","stun:stun.rixtelecom.se:3478","stun:stun.rockenstein.de:3478","stun:stun.rolmail.net:3478","stun:stun.rounds.com:3478","stun:stun.rynga.com:3478","stun:stun.samsungsmartcam.com:3478","stun:stun.schlund.de:3478","stun:stun.services.mozilla.com:3478","stun:stun.sigmavoip.com:3478","stun:stun.sip.us:3478","stun:stun.sipdiscount.com:3478","stun:stun.sipgate.net:10000","stun:stun.sipgate.net:3478","stun:stun.siplogin.de:3478","stun:stun.sipnet.net:3478","stun:stun.sipnet.ru:3478","stun:stun.siportal.it:3478","stun:stun.sippeer.dk:3478","stun:stun.siptraffic.com:3478","stun:stun.skylink.ru:3478","stun:stun.sma.de:3478","stun:stun.smartvoip.com:3478","stun:stun.smsdiscount.com:3478","stun:stun.snafu.de:3478","stun:stun.softjoys.com:3478","stun:stun.solcon.nl:3478","stun:stun.solnet.ch:3478","stun:stun.sonetel.com:3478","stun:stun.sonetel.net:3478","stun:stun.sovtest.ru:3478","stun:stun.speedy.com.ar:3478","stun:stun.spokn.com:3478","stun:stun.srce.hr:3478","stun:stun.ssl7.net:3478","stun:stun.stunprotocol.org:3478","stun:stun.symform.com:3478","stun:stun.symplicity.com:3478","stun:stun.sysadminman.net:3478","stun:stun.t-online.de:3478","stun:stun.tagan.ru:3478","stun:stun.tatneft.ru:3478","stun:stun.teachercreated.com:3478","stun:stun.tel.lu:3478","stun:stun.telbo.com:3478","stun:stun.telefacil.com:3478","stun:stun.tis-dialog.ru:3478","stun:stun.tng.de:3478","stun:stun.twt.it:3478","stun:stun.u-blox.com:3478","stun:stun.ucallweconn.net:3478","stun:stun.ucsb.edu:3478","stun:stun.ucw.cz:3478","stun:stun.uls.co.za:3478","stun:stun.unseen.is:3478","stun:stun.usfamily.net:3478","stun:stun.veoh.com:3478","stun:stun.vidyo.com:3478","stun:stun.vipgroup.net:3478","stun:stun.virtual-call.com:3478","stun:stun.viva.gr:3478","stun:stun.vivox.com:3478","stun:stun.vline.com:3478","stun:stun.vo.lu:3478","stun:stun.vodafone.ro:3478","stun:stun.voicetrading.com:3478","stun:stun.voip.aebc.com:3478","stun:stun.voip.blackberry.com:3478","stun:stun.voip.eutelia.it:3478","stun:stun.voiparound.com:3478","stun:stun.voipblast.com:3478","stun:stun.voipbuster.com:3478","stun:stun.voipbusterpro.com:3478","stun:stun.voipcheap.co.uk:3478","stun:stun.voipcheap.com:3478","stun:stun.voipfibre.com:3478","stun:stun.voipgain.com:3478","stun:stun.voipgate.com:3478","stun:stun.voipinfocenter.com:3478","stun:stun.voipplanet.nl:3478","stun:stun.voippro.com:3478","stun:stun.voipraider.com:3478","stun:stun.voipstunt.com:3478","stun:stun.voipwise.com:3478","stun:stun.voipzoom.com:3478","stun:stun.vopium.com:3478","stun:stun.voxgratia.org:3478","stun:stun.voxox.com:3478","stun:stun.voys.nl:3478","stun:stun.voztele.com:3478","stun:stun.vyke.com:3478","stun:stun.webcalldirect.com:3478","stun:stun.whoi.edu:3478","stun:stun.wifirst.net:3478","stun:stun.wwdl.net:3478","stun:stun.xs4all.nl:3478","stun:stun.xtratelecom.es:3478","stun:stun.yesss.at:3478","stun:stun.zadarma.com:3478","stun:stun.zadv.com:3478","stun:stun.zoiper.com:3478","stun:stun1.faktortel.com.au:3478","stun:stun1.l.google.com:19302","stun:stun1.voiceeclipse.net:3478","stun:stun2.l.google.com:19302","stun:stun3.l.google.com:19302","stun:stun4.l.google.com:19302","stun:stunserver.org:3478"]},{urls:["turn:my-turn-server.mycompany.com:19403"],username:"optional-username",credentials:"auth-token"},{urls:["turn:turn01.hubl.in?transport=udp"]},{urls:["turn:turn02.hubl.in?transport=tcp"]},{urls:["turn:numb.viagenie.ca"],credential:"muazkh",username:"webrtc@live.com"},{urls:["turn:192.158.29.39:3478?transport=udp"],credential:"JZEOEt2V3Qb0y27GRntt2u2PAYA=",username:"28224511:1379330808"},{urls:["turn:192.158.29.39:3478?transport=tcp"],credential:"JZEOEt2V3Qb0y27GRntt2u2PAYA=",username:"28224511:1379330808"},{urls:["turn:turn.bistri.com:80"],credential:"homeo",username:"homeo"},{urls:["turn:turn.anyfirewall.com:443?transport=tcp"],credential:"webrtc",username:"webrtc"},{urls:["turn:13.250.13.83:3478?transport=udp"],username:"YzYNCouZM1mhqhmseWk6",credential:"YzYNCouZM1mhqhmseWk6"}]}),e=Object(v["a"])(s.getTracks());try{for(e.s();!(u=e.n()).done;)o=u.value,n.peerConnection.addTrack(o,s)}catch(c){e.e(c)}finally{e.f()}return n.peerConnection.ontrack=function(n){return document.getElementById("friendVideo").srcObject=n.streams[0]},t.next=11,n.peerConnection.createOffer();case 11:return r=t.sent,t.next=14,n.peerConnection.setLocalDescription(r);case 14:n.send({sender:n.username,receiver:n.friendname,offer:JSON.stringify(r),candidate:null,forAnswer:!0}),n.peerConnection.onicecandidate=function(t){n.send({sender:n.username,receiver:n.friendname,candidate:JSON.stringify(t.candidate),offer:null})};case 16:case"end":return t.stop()}}),t)})))()},answer:function(){var n=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var s,e,u,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,navigator.mediaDevices.getUserMedia({video:!0,audio:!0});case 2:s=t.sent,document.getElementById("userVideo").srcObject=s,n.peerConnection=new RTCPeerConnection,e=Object(v["a"])(s.getTracks());try{for(e.s();!(u=e.n()).done;)o=u.value,n.peerConnection.addTrack(o,s)}catch(r){e.e(r)}finally{e.f()}n.peerConnection.ontrack=function(n){return document.getElementById("friendVideo").srcObject=n.streams[0]},n.peerConnection.onicecandidate=function(t){n.send({sender:n.username,receiver:n.friendname,candidate:JSON.stringify(t.candidate)})};case 9:case"end":return t.stop()}}),t)})))()}}},k=y,w=Object(r["a"])(k,d,f,!1,null,"03d48b32",null),x=w.exports,C={name:"Home",components:{VideoChat:x}},O=C,j=Object(r["a"])(O,l,p,!1,null,null,null),z=j.exports;e["a"].use(m["a"]);var _=[{path:"/",name:"Home",component:z}],S=new m["a"]({mode:"history",base:"/simple-video-chat/",routes:_}),P=S,R=s("2f62");e["a"].use(R["a"]);var E=new R["a"].Store({state:{},mutations:{},actions:{},modules:{}});e["a"].config.productionTip=!1,new e["a"]({router:P,store:E,render:function(n){return n(i)}}).$mount("#app")},"5c0b":function(n,t,s){"use strict";var e=s("9c0c"),u=s.n(e);u.a},"9c0c":function(n,t,s){}});
//# sourceMappingURL=app.2fd25cd8.js.map